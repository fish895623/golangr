<html>

<head>
  <title>{{ .title }}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta charset="UTF-8" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <!-- <script src="https://cdn.ckeditor.com/ckeditor5/35.4.0/balloon/ckeditor.js"></script> -->
  <script src="/static/js/build/ckeditor.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.1.2/chart.min.js"
    integrity="sha512-fYE9wAJg2PYbpJPxyGcuzDSiMuWJiw58rKa9MWQICkAqEO+xeJ5hg5qPihF8kqa7tbgJxsmgY0Yp51+IMrSEVg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <div class="container-fluid">
    <div class="row flex-nowrap">
      {{ template "nav.html" . }}
      <div class="col py">
        {{ template "menu.html" . }}
        <div id="classic" role='textbox'></div>
      </div>
    </div>
  </div>


  <script>
    window.onload = () => {
      get();
    };

    var myEditor;
    const editor = document.querySelector("#classic");

    BalloonBlockEditor.create(editor)
      .then((editor) => {
        myEditor = editor;
      })
      .catch((error) => {
        console.error(error);
      });
    function send() {
      axios({
        url: "/api",
        method: "POST",
        data: {
          load: false,
          data: myEditor.getData(),
        },
      });
    }
    function get() {
      axios({
        url: "/api",
        method: "POST",
        data: {
          load: true,
        },
      }).then((req) => {
        myEditor.setData(req.data.data);
      });
    }
  </script>
</body>

</html>
